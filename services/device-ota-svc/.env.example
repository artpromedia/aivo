# Device OTA & Heartbeat Service Configuration

# Environment
DEVICE_OTA_ENVIRONMENT=development
DEVICE_OTA_DEBUG=true
DEVICE_OTA_LOG_LEVEL=INFO

# Database
DEVICE_OTA_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/device_ota
DEVICE_OTA_DATABASE_POOL_SIZE=10
DEVICE_OTA_DATABASE_POOL_OVERFLOW=20

# Security
DEVICE_OTA_SECRET_KEY=your-secret-key-change-in-production
DEVICE_OTA_ALLOWED_HOSTS=["localhost", "127.0.0.1"]
DEVICE_OTA_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# File Storage
DEVICE_OTA_STORAGE_TYPE=local
DEVICE_OTA_STORAGE_BASE_PATH=./storage/firmware
# DEVICE_OTA_STORAGE_S3_BUCKET=firmware-bucket
# DEVICE_OTA_STORAGE_S3_REGION=us-east-1
# DEVICE_OTA_STORAGE_S3_ACCESS_KEY=your-access-key
# DEVICE_OTA_STORAGE_S3_SECRET_KEY=your-secret-key

# Update Configuration
DEVICE_OTA_MAX_CONCURRENT_DOWNLOADS=100
DEVICE_OTA_MAX_FILE_SIZE_MB=1024
DEVICE_OTA_UPDATE_TIMEOUT_HOURS=24
DEVICE_OTA_HEARTBEAT_TIMEOUT_MINUTES=30

# Deployment Rings
DEVICE_OTA_CANARY_MAX_DEVICES=50
DEVICE_OTA_EARLY_MAX_DEVICES=500

# Rollback Configuration
DEVICE_OTA_AUTO_ROLLBACK_FAILURE_THRESHOLD=10.0
DEVICE_OTA_ROLLBACK_TIMEOUT_HOURS=6

# Monitoring
DEVICE_OTA_METRICS_ENABLED=true
DEVICE_OTA_METRICS_PORT=9090
DEVICE_OTA_HEALTH_CHECK_TIMEOUT=30

# External Services
# DEVICE_OTA_NOTIFICATION_SERVICE_URL=http://notification-svc:8000
# DEVICE_OTA_ANALYTICS_SERVICE_URL=http://analytics-svc:8000

# Rate Limiting
DEVICE_OTA_RATE_LIMIT_HEARTBEAT=100/minute
DEVICE_OTA_RATE_LIMIT_UPDATE_CHECK=10/minute
