# Environment Configuration
ENVIRONMENT=development

# Database Configuration
DATABASE_URL=postgresql+asyncpg://aivo_user:password@localhost:5432/aivo_chat
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Google Perspective API (Required for content moderation)
PERSPECTIVE_API_KEY=your_perspective_api_key_here
PERSPECTIVE_DISCOVERY_URL=https://commentanalyzer.googleapis.com/$discovery/rest?version=v1alpha1

# AWS S3 Configuration (Required for data exports)
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=aivo-chat-exports

# Anthropic Claude API (Required for AI features)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# MongoDB Configuration (Optional - for archiving)
MONGODB_CONNECTION_STRING=mongodb://localhost:27017
MONGODB_DATABASE=aivo_archive
MONGODB_COLLECTION=chat_messages

# Redis Configuration (Optional - for caching)
REDIS_URL=redis://localhost:6379
REDIS_KEY_PREFIX=aivo:chat:

# OpenAI Configuration (Optional - backup AI provider)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# JWT Configuration
JWT_SECRET_KEY=your_very_secure_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Configuration
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Moderation Settings
MODERATION_TOXICITY_THRESHOLD=0.85
MODERATION_THREAT_THRESHOLD=0.8
MODERATION_PROFANITY_THRESHOLD=0.7
MODERATION_IDENTITY_ATTACK_THRESHOLD=0.8
MODERATION_INSULT_THRESHOLD=0.8
MODERATION_FLIRTATION_THRESHOLD=0.9

# PII Detection Settings
PII_DETECTION_ENABLED=true
PII_SCRUBBING_ENABLED=true
PII_AUDIT_ENABLED=true

# Export Settings
EXPORT_DEFAULT_FORMAT=json
EXPORT_MAX_RECORDS=10000
EXPORT_INCLUDE_PII=false

# Audit Settings
AUDIT_CHAIN_ENABLED=true
AUDIT_SIGNATURE_ALGORITHM=RS256
AUDIT_PRIVATE_KEY_PATH=/app/keys/audit_private_key.pem
AUDIT_PUBLIC_KEY_PATH=/app/keys/audit_public_key.pem

# Archiving Settings
ARCHIVE_ENABLED=true
ARCHIVE_RETENTION_DAYS=2555  # 7 years
ARCHIVE_BATCH_SIZE=1000

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/chat-service.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Health Check Settings
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_INTERVAL=60

# Performance Settings
MAX_MESSAGE_LENGTH=4000
MAX_MESSAGES_PER_SESSION=1000
SESSION_TIMEOUT_MINUTES=60
CLEANUP_INTERVAL_HOURS=24

# Feature Flags
FEATURE_AI_TUTOR_ENABLED=true
FEATURE_AI_COACH_ENABLED=true
FEATURE_PARENTAL_CONTROLS_ENABLED=true
FEATURE_EXPORT_ENABLED=true
FEATURE_ARCHIVING_ENABLED=true
FEATURE_AUDIT_ENABLED=true
